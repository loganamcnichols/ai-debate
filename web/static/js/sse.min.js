!function(){var o;function t(e){return new EventSource(e,{withCredentials:!0})}function i(r){if(o.getAttributeValue(r,"sse-swap")){if(null==(a=o.getClosestMatch(r,g)))return;for(var s=o.getInternalData(a).sseEventSource,e=o.getAttributeValue(r,"sse-swap").split(","),t=0;t<e.length;t++){var n=e[t].trim();const i=function(e){u(a)||(o.bodyContains(r)?o.triggerEvent(r,"htmx:sseBeforeMessage",e)&&(function(t,n){o.withExtensions(t,function(e){n=e.transformResponse(n,null,t)});var e=o.getSwapSpecification(t),r=o.getTarget(t);document.startViewTransition?document.startViewTransition(()=>o.swap(r,n,e)):o.swap(r,n,e)}(r,e.data),o.triggerEvent(r,"htmx:sseMessage",e)):s.removeEventListener(n,i))};o.getInternalData(r).sseEventListener=i,s.addEventListener(n,i)}}var a;o.getAttributeValue(r,"hx-trigger")&&null!=(a=o.getClosestMatch(r,g))&&(s=o.getInternalData(a).sseEventSource,o.getTriggerSpecs(r).forEach(function(t){var n;"sse:"===t.trigger.slice(0,4)&&(n=function(e){u(a)||(o.bodyContains(r)||s.removeEventListener(t.trigger.slice(4),n),htmx.trigger(r,t.trigger,e),htmx.trigger(r,"htmx:sseMessage",e))},o.getInternalData(r).sseEventListener=n,s.addEventListener(t.trigger.slice(4),n))}))}function c(e,t){if(null!=e){if(o.getAttributeValue(e,"sse-connect")){var n=o.getAttributeValue(e,"sse-connect");if(null==n)return;r=e,n=n,s=t,(a=htmx.createEventSource(n)).onerror=function(e){o.triggerErrorEvent(r,"htmx:sseError",{error:e,source:a}),u(r)||a.readyState===EventSource.CLOSED&&(s=s||0,e=500*(s=Math.max(Math.min(2*s,128),1)),window.setTimeout(function(){c(r,s)},e))},a.onopen=function(e){if(o.triggerEvent(r,"htmx:sseOpen",{source:a}),s&&0<s){var t=r.querySelectorAll("[sse-swap], [data-sse-swap], [hx-trigger], [data-hx-trigger]");for(let e=0;e<t.length;e++)i(t[e]);s=0}},o.getInternalData(r).sseEventSource=a,!void((n=o.getAttributeValue(r,"sse-close"))&&a.addEventListener(n,function(){o.triggerEvent(r,"htmx:sseClose",{source:a,type:"message"}),a.close()}))}var r,s,a;i(e)}}function u(e){if(!o.bodyContains(e)){var t=o.getInternalData(e).sseEventSource;if(null!=t)return o.triggerEvent(e,"htmx:sseClose",{source:t,type:"nodeMissing"}),t.close(),1}}function g(e){return null!=o.getInternalData(e).sseEventSource}htmx.defineExtension("sse",{init:function(e){o=e,null==htmx.createEventSource&&(htmx.createEventSource=t)},getSelectors:function(){return["[sse-connect]","[data-sse-connect]","[sse-swap]","[data-sse-swap]"]},onEvent:function(e,t){var n=t.target||t.detail.elt;switch(e){case"htmx:beforeCleanupElement":var r=o.getInternalData(n),s=r.sseEventSource;return void(s&&(o.triggerEvent(n,"htmx:sseClose",{source:s,type:"nodeReplaced"}),r.sseEventSource.close()));case"htmx:afterProcessNode":c(n)}}})}();